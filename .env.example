# Commentia Environment Configuration
# Copy this file to .env and fill in the appropriate values for your environment

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Environment stage (dev, staging, prod)
STAGE=dev

# AWS Region
AWS_REGION=us-east-1

# AWS Account ID (for CDK deployment)
# AWS_ACCOUNT_ID=123456789012

# =============================================================================
# LOCAL DEVELOPMENT
# =============================================================================

# LocalStack endpoint for local development (optional)
# DYNAMODB_ENDPOINT=http://localhost:4566

# Local API Gateway endpoint (set by CDK during deployment)
# API_ENDPOINT=https://api.commentia.local

# Local WebSocket endpoint (set by CDK during deployment)
# WEBSOCKET_ENDPOINT=wss://ws.commentia.local

# Frontend URL (for CORS configuration)
FRONTEND_URL=http://localhost:5173

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# Vite development server configuration
VITE_API_ENDPOINT=${API_ENDPOINT}
VITE_WEBSOCKET_ENDPOINT=${WEBSOCKET_ENDPOINT}
VITE_APP_NAME=Commentia
VITE_APP_VERSION=0.1.0

# =============================================================================
# BACKEND CONFIGURATION
# =============================================================================

# Node.js environment
NODE_ENV=development

# DynamoDB table names (will be set by CDK)
# ROOMS_TABLE_NAME=commentia-dev-rooms
# COMMENTS_TABLE_NAME=commentia-dev-comments
# CONNECTIONS_TABLE_NAME=commentia-dev-connections
# LIKES_TABLE_NAME=commentia-dev-likes

# Lambda function configuration
LAMBDA_TIMEOUT=30
LAMBDA_MEMORY=256

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# API Gateway throttling
API_THROTTLE_BURST_LIMIT=2000
API_THROTTLE_RATE_LIMIT=1000

# Rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# CloudWatch log level
LOG_LEVEL=info

# Enable detailed CloudWatch metrics
ENABLE_DETAILED_METRICS=true

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Jest configuration
JEST_TIMEOUT=30000

# LocalStack configuration for testing
LOCALSTACK_ENDPOINT=http://localhost:4566
TEST_AWS_REGION=us-east-1

# =============================================================================
# CDK CONFIGURATION
# =============================================================================

# CDK app configuration
CDK_DEFAULT_ACCOUNT=${AWS_ACCOUNT_ID}
CDK_DEFAULT_REGION=${AWS_REGION}

# CDK deployment configuration
CDK_STACK_NAME_PREFIX=commentia
CDK_ENABLE_VERSION_TAGS=true

# =============================================================================
# OPTIONAL SERVICES
# =============================================================================

# Custom domain configuration (optional)
# CUSTOM_DOMAIN_NAME=commentia.example.com
# CERTIFICATE_ARN=arn:aws:acm:us-east-1:123456789012:certificate/xxxxxxxx

# CloudFront configuration
# CLOUDFRONT_PRICE_CLASS=PriceClass_100

# DynamoDB configuration
DYNAMODB_BILLING_MODE=PAY_PER_REQUEST
# DYNAMODB_READ_CAPACITY=5
# DYNAMODB_WRITE_CAPACITY=5

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features for different environments
FEATURE_QR_CODE_ENABLED=true
FEATURE_ROOM_ANALYTICS_ENABLED=false
FEATURE_RATE_LIMITING_ENABLED=true
FEATURE_AUTO_MODERATION_ENABLED=false

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================

# Biome configuration
BIOME_CONFIG_PATH=./biome.json

# Enable/disable development tools
DEV_TOOLS_ENABLED=true
HOT_RELOAD_ENABLED=true